<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Page 171</TITLE>

<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<BODY bgcolor="#FFFFFF" vlink="blue" link="blue" >
<p style="position:absolute;top:0px;left:0px"><img src="images/azure-cognitive-services-openai0171.png" width="892px" height="1252px">
</img></p>
<p style="position:absolute;top:44px;left:121px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h656w_h24w_h;letter-spacing:0.33915px;">3.&nbsp;Install&nbsp;SynapseML&nbsp;on&nbsp;your&nbsp;cluster.&nbsp;See&nbsp;the&nbsp;installation&nbsp;instructions&nbsp;for&nbsp;Synapse&nbsp;at</span></p>
<p style="position:absolute;top:73px;left:139px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h642w_h24w_h;letter-spacing:0.33883px;">the&nbsp;bottom&nbsp;of&nbsp;<a href="https://microsoft.github.io/SynapseML/"style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#0065b3;w_h0w_h0w_h;letter-spacing:0.00000px;">the&nbsp;SynapseML&nbsp;website&nbsp;</a>.&nbsp;This&nbsp;requires&nbsp;pasting&nbsp;another&nbsp;cell&nbsp;at&nbsp;the</span></p>
<p style="position:absolute;top:101px;left:139px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h273w_h24w_h;letter-spacing:0.37287px;">top&nbsp;of&nbsp;the&nbsp;notebook&nbsp;you&nbsp;imported</span></p>
<p style="position:absolute;top:131px;left:121px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h673w_h24w_h;letter-spacing:0.32995px;">4.&nbsp;Connect&nbsp;your&nbsp;notebook&nbsp;to&nbsp;a&nbsp;cluster&nbsp;and&nbsp;follow&nbsp;along,&nbsp;editing&nbsp;and&nbsp;running&nbsp;the&nbsp;cells</span></p>
<p style="position:absolute;top:159px;left:139px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h52w_h24w_h;letter-spacing:0.00000px;">below.</span></p>
<p style="position:absolute;top:284px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h626w_h24w_h;letter-spacing:0.29904px;">Next,&nbsp;edit&nbsp;the&nbsp;cell&nbsp;in&nbsp;the&nbsp;notebook&nbsp;to&nbsp;point&nbsp;to&nbsp;your&nbsp;service.&nbsp;In&nbsp;particular,&nbsp;set&nbsp;the</span></p>
<p style="position:absolute;top:318px;left:98px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h109w_h18w_h;letter-spacing:0.93201px;">resource_name</span></p>
<p style="position:absolute;top:313px;left:210px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h541w_h24w_h;letter-spacing:0.38617px;">,&nbsp;deployment_name,&nbsp;location,&nbsp;and&nbsp;key&nbsp;variables&nbsp;to&nbsp;the&nbsp;corresponding</span></p>
<p style="position:absolute;top:344px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h310w_h24w_h;letter-spacing:0.38097px;">values&nbsp;for&nbsp;your&nbsp;Azure&nbsp;OpenAI&nbsp;resource.</span></p>
<p style="position:absolute;top:615px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:1.19594px;">Python</span></p>
<p style="position:absolute;top:1037px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h640w_h24w_h;letter-spacing:0.32206px;">Next,&nbsp;create&nbsp;a&nbsp;dataframe&nbsp;consisting&nbsp;of&nbsp;a&nbsp;series&nbsp;of&nbsp;rows,&nbsp;with&nbsp;one&nbsp;prompt&nbsp;per&nbsp;row.</span></p>
<p style="position:absolute;top:1083px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h699w_h24w_h;letter-spacing:0.33808px;">You&nbsp;can&nbsp;also&nbsp;load&nbsp;data&nbsp;directly&nbsp;from&nbsp;Azure&nbsp;Data&nbsp;Lake&nbsp;Storage&nbsp;(ADLS)&nbsp;or&nbsp;other&nbsp;databases.</span></p>
<p style="position:absolute;top:1113px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h677w_h24w_h;letter-spacing:0.37868px;"><a href="https://spark.apache.org/docs/latest/sql-data-sources.html"style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h0w_h0w_h;letter-spacing:0.00000px;">For&nbsp;more&nbsp;information&nbsp;about&nbsp;loading&nbsp;and&nbsp;preparing&nbsp;Spark&nbsp;dataframes,&nbsp;see&nbsp;the&nbsp;Apache</a></span></p>
<p style="position:absolute;top:1141px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#0065b3;w_h221w_h24w_h;letter-spacing:0.37702px;"><a href="https://spark.apache.org/docs/latest/sql-data-sources.html"style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#0065b3;w_h0w_h0w_h;letter-spacing:0.00000px;">Spark&nbsp;data&nbsp;loading&nbsp;guide&nbsp;.</a></span></p>
<p style="position:absolute;top:1194px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:1.19594px;">Python</span></p>
<p style="position:absolute;top:221px;left:96px"><span style="virtical-align:top;font-size:30px;font-family:AAAAAB+SegoeUI-Semibold;color:#161616;font-weight:bold;w_h448w_h43w_h;letter-spacing:0.35341px;">Fill&nbsp;in&nbsp;your&nbsp;service&nbsp;information</span></p>
<p style="position:absolute;top:413px;left:115px"><span style="virtical-align:top;font-size:16px;font-family:DAAAAA+docons;color:#004173;w_h18w_h20w_h;letter-spacing:0.00000px;">ï¼‰</span></p>
<p style="position:absolute;top:410px;left:138px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAB+SegoeUI-Semibold;color:#004173;font-weight:bold;w_h83w_h24w_h;letter-spacing:0.88792px;">Important</span></p>
<p style="position:absolute;top:457px;left:115px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h653w_h24w_h;letter-spacing:0.33771px;">Remember&nbsp;to&nbsp;remove&nbsp;the&nbsp;key&nbsp;from&nbsp;your&nbsp;code&nbsp;when&nbsp;you're&nbsp;done,&nbsp;and&nbsp;never&nbsp;post&nbsp;it</span></p>
<p style="position:absolute;top:485px;left:115px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h659w_h24w_h;letter-spacing:0.34813px;">publicly.&nbsp;For&nbsp;production,&nbsp;use&nbsp;a&nbsp;secure&nbsp;way&nbsp;of&nbsp;storing&nbsp;and&nbsp;accessing&nbsp;your&nbsp;credentials</span></p>
<p style="position:absolute;top:514px;left:115px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h572w_h24w_h;letter-spacing:0.33751px;">like&nbsp;<a href="https://learn.microsoft.com/en-us/azure/key-vault/general/overview"style="virtical-align:top;font-size:16px;font-family:AAAAAB+SegoeUI-Semibold;color:#004173;font-weight:bold;w_h0w_h0w_h;letter-spacing:0.00000px;">Azure&nbsp;Key&nbsp;Vault.&nbsp;</a>See&nbsp;the&nbsp;Cognitive&nbsp;Services&nbsp;<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/cognitive-services-security"style="virtical-align:top;font-size:16px;font-family:AAAAAB+SegoeUI-Semibold;color:#004173;font-weight:bold;w_h0w_h0w_h;letter-spacing:0.00000px;">security&nbsp;</a>article&nbsp;for&nbsp;more</span></p>
<p style="position:absolute;top:543px;left:115px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h97w_h24w_h;letter-spacing:0.00000px;">information.</span></p>
<p style="position:absolute;top:662px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h78w_h18w_h;letter-spacing:0.60876px;">import&nbsp;os</span></p>
<p style="position:absolute;top:705px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h641w_h18w_h;letter-spacing:0.49242px;">#&nbsp;Replace&nbsp;the&nbsp;following&nbsp;values&nbsp;with&nbsp;your&nbsp;Azure&nbsp;OpenAI&nbsp;resource&nbsp;information</span></p>
<p style="position:absolute;top:726px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h268w_h18w_h;letter-spacing:0.51360px;">resource_name&nbsp;=&nbsp;&quot;RESOURCE_NAME&quot;</span></p>
<p style="position:absolute;top:726px;left:437px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h268w_h18w_h;letter-spacing:0.42655px;">#&nbsp;The&nbsp;name&nbsp;of&nbsp;your&nbsp;Azure&nbsp;OpenAI</span></p>
<p style="position:absolute;top:748px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h78w_h18w_h;letter-spacing:0.00000px;">resource.</span></p>
<p style="position:absolute;top:769px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h589w_h18w_h;letter-spacing:0.46002px;">deployment_name&nbsp;=&nbsp;&quot;DEPLOYMENT_NAME&quot;&nbsp;#&nbsp;The&nbsp;name&nbsp;of&nbsp;your&nbsp;Azure&nbsp;OpenAI</span></p>
<p style="position:absolute;top:790px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h95w_h18w_h;letter-spacing:0.00000px;">deployment.</span></p>
<p style="position:absolute;top:812px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h260w_h18w_h;letter-spacing:0.50736px;">location&nbsp;=&nbsp;&quot;RESOURCE_LOCATION&quot;</span></p>
<p style="position:absolute;top:812px;left:437px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h312w_h18w_h;letter-spacing:0.42356px;">#&nbsp;The&nbsp;location&nbsp;or&nbsp;region&nbsp;ID&nbsp;for&nbsp;your</span></p>
<p style="position:absolute;top:833px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h78w_h18w_h;letter-spacing:0.00000px;">resource.</span></p>
<p style="position:absolute;top:854px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h208w_h18w_h;letter-spacing:0.46387px;">key&nbsp;=&nbsp;&quot;RESOURCE_API_KEY&quot;</span></p>
<p style="position:absolute;top:854px;left:437px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h242w_h18w_h;letter-spacing:0.44571px;">#&nbsp;The&nbsp;key&nbsp;for&nbsp;your&nbsp;resource.</span></p>
<p style="position:absolute;top:897px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h450w_h18w_h;letter-spacing:0.44423px;">assert&nbsp;key&nbsp;is&nbsp;not&nbsp;None&nbsp;and&nbsp;resource_name&nbsp;is&nbsp;not&nbsp;None</span></p>
<p style="position:absolute;top:973px;left:96px"><span style="virtical-align:top;font-size:30px;font-family:AAAAAB+SegoeUI-Semibold;color:#161616;font-weight:bold;w_h410w_h43w_h;letter-spacing:0.35994px;">Create&nbsp;a&nbsp;dataset&nbsp;of&nbsp;prompts</span></p>
</BODY>
</HTML>
