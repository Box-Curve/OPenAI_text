<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Page 175</TITLE>

<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<BODY bgcolor="#FFFFFF" vlink="blue" link="blue" >
<p style="position:absolute;top:0px;left:0px"><img src="images/azure-cognitive-services-openai0175.png" width="892px" height="1252px">
</img></p>
<p style="position:absolute;top:1141px;left:96px"><span style="virtical-align:top;font-size:29px;font-family:AAAAAB+SegoeUI-Semibold;color:#161616;font-weight:bold;w_h293w_h42w_h;letter-spacing:0.36978px;">Additional&nbsp;resources</span></p>
<p style="position:absolute;top:303px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h627w_h24w_h;letter-spacing:0.38210px;"><a href="azure-cognitive-services-openai-94.html"style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h0w_h0w_h;letter-spacing:0.00000px;">Azure&nbsp;OpenAI&nbsp;can&nbsp;solve&nbsp;many&nbsp;different&nbsp;natural&nbsp;language&nbsp;tasks&nbsp;through&nbsp;prompt</a></span></p>
<p style="position:absolute;top:331px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h625w_h24w_h;letter-spacing:0.37786px;"><a href="azure-cognitive-services-openai-94.html"style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#0065b3;w_h0w_h0w_h;letter-spacing:0.00000px;">engineering.&nbsp;Here,&nbsp;we&nbsp;show&nbsp;an&nbsp;example&nbsp;of&nbsp;prompting&nbsp;for&nbsp;language&nbsp;translation:</a></span></p>
<p style="position:absolute;top:384px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:1.19594px;">Python</span></p>
<p style="position:absolute;top:756px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h623w_h24w_h;letter-spacing:0.40271px;">Here,&nbsp;we&nbsp;prompt&nbsp;the&nbsp;GPT-3&nbsp;model&nbsp;for&nbsp;general-knowledge&nbsp;question&nbsp;answering:</span></p>
<p style="position:absolute;top:808px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:1.19594px;">Python</span></p>
<p style="position:absolute;top:42px;left:125px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h641w_h18w_h;letter-spacing:0.47301px;">.coalesce(1)&nbsp;#&nbsp;Force&nbsp;a&nbsp;single&nbsp;partition&nbsp;so&nbsp;that&nbsp;our&nbsp;little&nbsp;4-row&nbsp;dataframe</span></p>
<p style="position:absolute;top:64px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h589w_h18w_h;letter-spacing:0.42140px;">makes&nbsp;a&nbsp;batch&nbsp;of&nbsp;size&nbsp;4,&nbsp;you&nbsp;can&nbsp;remove&nbsp;this&nbsp;step&nbsp;for&nbsp;large&nbsp;datasets</span></p>
<p style="position:absolute;top:85px;left:125px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h450w_h18w_h;letter-spacing:0.84427px;">.mlTransform(FixedMiniBatchTransformer(batchSize=4))</span></p>
<p style="position:absolute;top:106px;left:125px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h372w_h18w_h;letter-spacing:0.52889px;">.withColumnRenamed(&quot;prompt&quot;,&nbsp;&quot;batchPrompt&quot;)</span></p>
<p style="position:absolute;top:128px;left:125px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h268w_h18w_h;letter-spacing:0.00000px;">.mlTransform(batch_completion))</span></p>
<p style="position:absolute;top:170px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h268w_h18w_h;letter-spacing:0.00000px;">display(completed_autobatch_df)</span></p>
<p style="position:absolute;top:245px;left:96px"><span style="virtical-align:top;font-size:24px;font-family:AAAAAB+SegoeUI-Semibold;color:#161616;font-weight:bold;w_h423w_h36w_h;letter-spacing:0.45002px;">Prompt&nbsp;engineering&nbsp;for&nbsp;translation</span></p>
<p style="position:absolute;top:431px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h320w_h18w_h;letter-spacing:0.66750px;">translate_df&nbsp;=&nbsp;spark.createDataFrame(</span></p>
<p style="position:absolute;top:453px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">[</span></p>
<p style="position:absolute;top:474px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h528w_h18w_h;letter-spacing:0.50020px;">(&quot;Japanese:&nbsp;Ookina&nbsp;hako&nbsp;\nEnglish:&nbsp;Big&nbsp;box&nbsp;\nJapanese:&nbsp;Midori</span></p>
<p style="position:absolute;top:496px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h156w_h18w_h;letter-spacing:0.69582px;">tako\nEnglish:&quot;,),</span></p>
<p style="position:absolute;top:517px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h589w_h18w_h;letter-spacing:0.44880px;">(&quot;French:&nbsp;Quelle&nbsp;heure&nbsp;est-il&nbsp;à&nbsp;Montréal?&nbsp;\nEnglish:&nbsp;What&nbsp;time&nbsp;is&nbsp;it</span></p>
<p style="position:absolute;top:538px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h476w_h18w_h;letter-spacing:0.47499px;">in&nbsp;Montreal?&nbsp;\nFrench:&nbsp;Où&nbsp;est&nbsp;le&nbsp;poulet?&nbsp;\nEnglish:&quot;,),</span></p>
<p style="position:absolute;top:560px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">]</span></p>
<p style="position:absolute;top:581px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h139w_h18w_h;letter-spacing:0.54119px;">).toDF(&quot;prompt&quot;)</span></p>
<p style="position:absolute;top:624px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h372w_h18w_h;letter-spacing:0.00000px;">display(completion.transform(translate_df))</span></p>
<p style="position:absolute;top:698px;left:96px"><span style="virtical-align:top;font-size:24px;font-family:AAAAAB+SegoeUI-Semibold;color:#161616;font-weight:bold;w_h377w_h36w_h;letter-spacing:0.44924px;">Prompt&nbsp;for&nbsp;question&nbsp;answering</span></p>
<p style="position:absolute;top:856px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h260w_h18w_h;letter-spacing:0.64091px;">qa_df&nbsp;=&nbsp;spark.createDataFrame(</span></p>
<p style="position:absolute;top:877px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">[</span></p>
<p style="position:absolute;top:898px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">(</span></p>
<p style="position:absolute;top:920px;left:220px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h494w_h18w_h;letter-spacing:0.42067px;">&quot;Q:&nbsp;Where&nbsp;is&nbsp;the&nbsp;Grand&nbsp;Canyon?\nA:&nbsp;The&nbsp;Grand&nbsp;Canyon&nbsp;is&nbsp;in</span></p>
<p style="position:absolute;top:941px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h632w_h18w_h;letter-spacing:0.47034px;">Arizona.\n\nQ:&nbsp;What&nbsp;is&nbsp;the&nbsp;weight&nbsp;of&nbsp;the&nbsp;Burj&nbsp;Khalifa&nbsp;in&nbsp;kilograms?\nA:&quot;,</span></p>
<p style="position:absolute;top:962px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">)</span></p>
<p style="position:absolute;top:984px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">]</span></p>
<p style="position:absolute;top:1005px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h139w_h18w_h;letter-spacing:0.54119px;">).toDF(&quot;prompt&quot;)</span></p>
<p style="position:absolute;top:1048px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h312w_h18w_h;letter-spacing:0.00000px;">display(completion.transform(qa_df))</span></p>
</BODY>
</HTML>
