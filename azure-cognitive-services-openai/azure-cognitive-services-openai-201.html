<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Page 201</TITLE>

<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<BODY bgcolor="#FFFFFF" vlink="blue" link="blue" >
<p style="position:absolute;top:0px;left:0px"><img src="images/azure-cognitive-services-openai0201.png" width="892px" height="1252px">
</img></p>
<p style="position:absolute;top:50px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:0.95675px;">Python</span></p>
<p style="position:absolute;top:678px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:1.21553px;">Output</span></p>
<p style="position:absolute;top:97px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h113w_h18w_h;letter-spacing:0.65953px;">import&nbsp;openai</span></p>
<p style="position:absolute;top:119px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h78w_h18w_h;letter-spacing:0.60876px;">import&nbsp;os</span></p>
<p style="position:absolute;top:140px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h78w_h18w_h;letter-spacing:0.60876px;">import&nbsp;re</span></p>
<p style="position:absolute;top:161px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h130w_h18w_h;letter-spacing:0.67645px;">import&nbsp;requests</span></p>
<p style="position:absolute;top:183px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h87w_h18w_h;letter-spacing:0.62438px;">import&nbsp;sys</span></p>
<p style="position:absolute;top:204px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h268w_h18w_h;letter-spacing:0.57189px;">from&nbsp;num2words&nbsp;import&nbsp;num2words</span></p>
<p style="position:absolute;top:226px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h78w_h18w_h;letter-spacing:0.60876px;">import&nbsp;os</span></p>
<p style="position:absolute;top:247px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h165w_h18w_h;letter-spacing:0.48197px;">import&nbsp;pandas&nbsp;as&nbsp;pd</span></p>
<p style="position:absolute;top:268px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h156w_h18w_h;letter-spacing:0.47131px;">import&nbsp;numpy&nbsp;as&nbsp;np</span></p>
<p style="position:absolute;top:290px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h589w_h18w_h;letter-spacing:0.64187px;">from&nbsp;openai.embeddings_utils&nbsp;import&nbsp;get_embedding,&nbsp;cosine_similarity</span></p>
<p style="position:absolute;top:311px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h130w_h18w_h;letter-spacing:0.67645px;">import&nbsp;tiktoken</span></p>
<p style="position:absolute;top:354px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h372w_h18w_h;letter-spacing:0.57223px;">API_KEY&nbsp;=&nbsp;os.getenv(&quot;AZURE_OPENAI_API_KEY&quot;)</span></p>
<p style="position:absolute;top:375px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h468w_h18w_h;letter-spacing:0.60884px;">RESOURCE_ENDPOINT&nbsp;=&nbsp;os.getenv(&quot;AZURE_OPENAI_ENDPOINT&quot;)</span></p>
<p style="position:absolute;top:418px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h216w_h18w_h;letter-spacing:0.47198px;">openai.api_type&nbsp;=&nbsp;&quot;azure&quot;</span></p>
<p style="position:absolute;top:439px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h208w_h18w_h;letter-spacing:0.60887px;">openai.api_key&nbsp;=&nbsp;API_KEY</span></p>
<p style="position:absolute;top:461px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h303w_h18w_h;letter-spacing:0.66078px;">openai.api_base&nbsp;=&nbsp;RESOURCE_ENDPOINT</span></p>
<p style="position:absolute;top:482px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h286w_h18w_h;letter-spacing:0.52529px;">openai.api_version&nbsp;=&nbsp;&quot;2022-12-01&quot;</span></p>
<p style="position:absolute;top:525px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h589w_h18w_h;letter-spacing:0.57504px;">url&nbsp;=&nbsp;openai.api_base&nbsp;+&nbsp;&quot;/openai/deployments?api-version=2022-12-01&quot;</span></p>
<p style="position:absolute;top:568px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h442w_h18w_h;letter-spacing:0.52407px;">r&nbsp;=&nbsp;requests.get(url,&nbsp;headers={&quot;api-key&quot;:&nbsp;API_KEY})</span></p>
<p style="position:absolute;top:610px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h113w_h18w_h;letter-spacing:0.00000px;">print(r.text)</span></p>
<p style="position:absolute;top:725px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">{</span></p>
<p style="position:absolute;top:746px;left:134px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h78w_h18w_h;letter-spacing:0.33211px;">&quot;data&quot;:&nbsp;[</span></p>
<p style="position:absolute;top:768px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">{</span></p>
<p style="position:absolute;top:789px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h165w_h18w_h;letter-spacing:0.48202px;">&quot;scale_settings&quot;:&nbsp;{</span></p>
<p style="position:absolute;top:811px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h208w_h18w_h;letter-spacing:0.41455px;">&quot;scale_type&quot;:&nbsp;&quot;standard&quot;</span></p>
<p style="position:absolute;top:832px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h17w_h18w_h;letter-spacing:0.00000px;">},</span></p>
<p style="position:absolute;top:853px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h294w_h18w_h;letter-spacing:0.48424px;">&quot;model&quot;:&nbsp;&quot;text-embedding-ada-002&quot;,</span></p>
<p style="position:absolute;top:875px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h260w_h18w_h;letter-spacing:0.45952px;">&quot;owner&quot;:&nbsp;&quot;organization-owner&quot;,</span></p>
<p style="position:absolute;top:895px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h268w_h18w_h;letter-spacing:0.46605px;">&quot;id&quot;:&nbsp;&quot;text-embedding-ada-002&quot;,</span></p>
<p style="position:absolute;top:916px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h191w_h18w_h;letter-spacing:0.39689px;">&quot;status&quot;:&nbsp;&quot;succeeded&quot;,</span></p>
<p style="position:absolute;top:938px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h216w_h18w_h;letter-spacing:0.53409px;">&quot;created_at&quot;:&nbsp;1657572678,</span></p>
<p style="position:absolute;top:959px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h216w_h18w_h;letter-spacing:0.53409px;">&quot;updated_at&quot;:&nbsp;1657572678,</span></p>
<p style="position:absolute;top:980px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h191w_h18w_h;letter-spacing:0.39689px;">&quot;object&quot;:&nbsp;&quot;deployment&quot;</span></p>
<p style="position:absolute;top:1002px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h17w_h18w_h;letter-spacing:0.00000px;">},</span></p>
<p style="position:absolute;top:1023px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">{</span></p>
<p style="position:absolute;top:1045px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h165w_h18w_h;letter-spacing:0.48202px;">&quot;scale_settings&quot;:&nbsp;{</span></p>
<p style="position:absolute;top:1066px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h208w_h18w_h;letter-spacing:0.41455px;">&quot;scale_type&quot;:&nbsp;&quot;standard&quot;</span></p>
<p style="position:absolute;top:1087px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h17w_h18w_h;letter-spacing:0.00000px;">},</span></p>
<p style="position:absolute;top:1109px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h242w_h18w_h;letter-spacing:0.44571px;">&quot;model&quot;:&nbsp;&quot;code-cushman-001&quot;,</span></p>
<p style="position:absolute;top:1130px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h260w_h18w_h;letter-spacing:0.45952px;">&quot;owner&quot;:&nbsp;&quot;organization-owner&quot;,</span></p>
<p style="position:absolute;top:1151px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h216w_h18w_h;letter-spacing:0.42282px;">&quot;id&quot;:&nbsp;&quot;code-cushman-001&quot;,</span></p>
<p style="position:absolute;top:1173px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h191w_h18w_h;letter-spacing:0.39689px;">&quot;status&quot;:&nbsp;&quot;succeeded&quot;,</span></p>
<p style="position:absolute;top:1194px;left:168px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h216w_h18w_h;letter-spacing:0.53409px;">&quot;created_at&quot;:&nbsp;1657572712,</span></p>
</BODY>
</HTML>
