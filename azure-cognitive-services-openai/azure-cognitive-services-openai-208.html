<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Page 208</TITLE>

<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<BODY bgcolor="#FFFFFF" vlink="blue" link="blue" >
<p style="position:absolute;top:0px;left:0px"><img src="images/azure-cognitive-services-openai0208.png" width="892px" height="1252px">
</img></p>
<p style="position:absolute;top:555px;left:97px"><img src="images/azure-cognitive-services-openai_pic004A.png" width="700px" height="79px">
</img></p>
<p style="position:absolute;top:510px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAB+SegoeUI-Semibold;color:#161616;font-weight:bold;w_h62w_h24w_h;letter-spacing:0.42523px;">Output:</span></p>
<p style="position:absolute;top:663px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h696w_h24w_h;letter-spacing:0.33670px;">Finally,&nbsp;we'll&nbsp;show&nbsp;the&nbsp;top&nbsp;result&nbsp;from&nbsp;document&nbsp;search&nbsp;based&nbsp;on&nbsp;user&nbsp;query&nbsp;against&nbsp;the</span></p>
<p style="position:absolute;top:691px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h700w_h24w_h;letter-spacing:0.31271px;">entire&nbsp;knowledge&nbsp;base.&nbsp;This&nbsp;returns&nbsp;the&nbsp;top&nbsp;result&nbsp;of&nbsp;the&nbsp;&quot;Taxpayer's&nbsp;Right&nbsp;to&nbsp;View&nbsp;Act&nbsp;of</span></p>
<p style="position:absolute;top:720px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h675w_h24w_h;letter-spacing:0.32229px;">1993&quot;.&nbsp;This&nbsp;document&nbsp;has&nbsp;a&nbsp;cosine&nbsp;similarity&nbsp;score&nbsp;of&nbsp;0.76&nbsp;between&nbsp;the&nbsp;query&nbsp;and&nbsp;the</span></p>
<p style="position:absolute;top:749px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h85w_h24w_h;letter-spacing:0.00000px;">document:</span></p>
<p style="position:absolute;top:802px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:1.19594px;">Python</span></p>
<p style="position:absolute;top:916px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:1.21553px;">Output</span></p>
<p style="position:absolute;top:42px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h225w_h18w_h;letter-spacing:0.62080px;">embedding&nbsp;=&nbsp;get_embedding(</span></p>
<p style="position:absolute;top:64px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h95w_h18w_h;letter-spacing:0.00000px;">user_query,</span></p>
<p style="position:absolute;top:85px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h528w_h18w_h;letter-spacing:0.47615px;">engine=&quot;text-embedding-ada-002&quot;&nbsp;#&nbsp;engine&nbsp;should&nbsp;be&nbsp;set&nbsp;to&nbsp;the</span></p>
<p style="position:absolute;top:106px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h606w_h18w_h;letter-spacing:0.52618px;">deployment&nbsp;name&nbsp;you&nbsp;chose&nbsp;when&nbsp;you&nbsp;deployed&nbsp;the&nbsp;text-embedding-ada-002</span></p>
<p style="position:absolute;top:128px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h147w_h18w_h;letter-spacing:0.55204px;">(Version&nbsp;2)&nbsp;model</span></p>
<p style="position:absolute;top:149px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">)</span></p>
<p style="position:absolute;top:170px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h580w_h18w_h;letter-spacing:0.57251px;">df[&quot;similarities&quot;]&nbsp;=&nbsp;df.ada_v2.apply(lambda&nbsp;x:&nbsp;cosine_similarity(x,</span></p>
<p style="position:absolute;top:192px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h95w_h18w_h;letter-spacing:0.00000px;">embedding))</span></p>
<p style="position:absolute;top:235px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h61w_h18w_h;letter-spacing:0.37885px;">res&nbsp;=&nbsp;(</span></p>
<p style="position:absolute;top:256px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#07704a;w_h407w_h18w_h;letter-spacing:0.63588px;">df.sort_values(&quot;similarities&quot;,&nbsp;ascending=False)</span></p>
<p style="position:absolute;top:277px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h104w_h18w_h;letter-spacing:0.00000px;">.head(top_n)</span></p>
<p style="position:absolute;top:299px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">)</span></p>
<p style="position:absolute;top:320px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h104w_h18w_h;letter-spacing:0.64943px;">if&nbsp;to_print:</span></p>
<p style="position:absolute;top:341px;left:186px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h104w_h18w_h;letter-spacing:0.00000px;">display(res)</span></p>
<p style="position:absolute;top:363px;left:151px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h87w_h18w_h;letter-spacing:0.62438px;">return&nbsp;res</span></p>
<p style="position:absolute;top:427px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#a31515;w_h615w_h18w_h;letter-spacing:0.46483px;">res&nbsp;=&nbsp;search_docs(df_bills,&nbsp;&quot;Can&nbsp;I&nbsp;get&nbsp;information&nbsp;on&nbsp;cable&nbsp;company&nbsp;tax</span></p>
<p style="position:absolute;top:448px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h165w_h18w_h;letter-spacing:0.57121px;">revenue?&quot;,&nbsp;top_n=4)</span></p>
<p style="position:absolute;top:581px;left:753px"><span style="virtical-align:top;font-size:20px;font-family:CAAAAA+docons;color:#505050;w_h23w_h25w_h;letter-spacing:0.00000px;"><a href="https://learn.microsoft.com/en-us/azure/cognitive-services/openai/media/tutorials/query-result.png#lightbox"style="virtical-align:top;font-size:20px;font-family:CAAAAA+docons;color:#505050;w_h0w_h0w_h;letter-spacing:0.00000px;">ï Š</a></span></p>
<p style="position:absolute;top:849px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h147w_h18w_h;letter-spacing:0.55191px;">res[&quot;summary&quot;][9]</span></p>
<p style="position:absolute;top:964px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h623w_h18w_h;letter-spacing:0.43297px;">&quot;Taxpayer's&nbsp;Right&nbsp;to&nbsp;View&nbsp;Act&nbsp;of&nbsp;1993&nbsp;-&nbsp;Amends&nbsp;the&nbsp;Communications&nbsp;Act&nbsp;of</span></p>
<p style="position:absolute;top:985px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h632w_h18w_h;letter-spacing:0.47034px;">1934&nbsp;to&nbsp;prohibit&nbsp;a&nbsp;cable&nbsp;operator&nbsp;from&nbsp;assessing&nbsp;separate&nbsp;charges&nbsp;for&nbsp;any</span></p>
<p style="position:absolute;top:1006px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h658w_h18w_h;letter-spacing:0.49757px;">video&nbsp;programming&nbsp;of&nbsp;a&nbsp;sporting,&nbsp;theatrical,&nbsp;or&nbsp;other&nbsp;entertainment&nbsp;event&nbsp;if</span></p>
<p style="position:absolute;top:1028px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h649w_h18w_h;letter-spacing:0.49501px;">that&nbsp;event&nbsp;is&nbsp;performed&nbsp;at&nbsp;a&nbsp;facility&nbsp;constructed,&nbsp;renovated,&nbsp;or&nbsp;maintained</span></p>
<p style="position:absolute;top:1049px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h606w_h18w_h;letter-spacing:0.48159px;">with&nbsp;tax&nbsp;revenues&nbsp;or&nbsp;by&nbsp;an&nbsp;organization&nbsp;that&nbsp;receives&nbsp;public&nbsp;financial</span></p>
<p style="position:absolute;top:1070px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h580w_h18w_h;letter-spacing:0.54392px;">support.&nbsp;Authorizes&nbsp;the&nbsp;Federal&nbsp;Communications&nbsp;Commission&nbsp;and&nbsp;local</span></p>
<p style="position:absolute;top:1092px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h649w_h18w_h;letter-spacing:0.56376px;">franchising&nbsp;authorities&nbsp;to&nbsp;make&nbsp;determinations&nbsp;concerning&nbsp;the&nbsp;applicability</span></p>
<p style="position:absolute;top:1113px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h589w_h18w_h;letter-spacing:0.47590px;">of&nbsp;such&nbsp;prohibition.&nbsp;Sets&nbsp;forth&nbsp;conditions&nbsp;under&nbsp;which&nbsp;a&nbsp;facility&nbsp;is</span></p>
<p style="position:absolute;top:1135px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h606w_h18w_h;letter-spacing:0.50290px;">considered&nbsp;to&nbsp;have&nbsp;been&nbsp;constructed,&nbsp;maintained,&nbsp;or&nbsp;renovated&nbsp;with&nbsp;tax</span></p>
<p style="position:absolute;top:1156px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h632w_h18w_h;letter-spacing:0.53390px;">revenues.&nbsp;Considers&nbsp;events&nbsp;performed&nbsp;by&nbsp;nonprofit&nbsp;or&nbsp;public&nbsp;organizations</span></p>
<p style="position:absolute;top:1177px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h589w_h18w_h;letter-spacing:0.42140px;">that&nbsp;receive&nbsp;tax&nbsp;subsidies&nbsp;to&nbsp;be&nbsp;subject&nbsp;to&nbsp;this&nbsp;Act&nbsp;if&nbsp;the&nbsp;event&nbsp;is</span></p>
</BODY>
</HTML>
