<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
<HEAD>
<TITLE>Page 90</TITLE>

<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
</HEAD>
<BODY bgcolor="#FFFFFF" vlink="blue" link="blue" >
<p style="position:absolute;top:0px;left:0px"><img src="images/azure-cognitive-services-openai0090.png" width="892px" height="1252px">
</img></p>
<p style="position:absolute;top:91px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h685w_h24w_h;letter-spacing:0.33806px;">The&nbsp;Chat&nbsp;Completion&nbsp;API&nbsp;is&nbsp;designed&nbsp;to&nbsp;work&nbsp;with&nbsp;multi-turn&nbsp;conversations,&nbsp;but&nbsp;it&nbsp;also</span></p>
<p style="position:absolute;top:120px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h269w_h24w_h;letter-spacing:0.38797px;">works&nbsp;well&nbsp;for&nbsp;non-chat&nbsp;scenarios.</span></p>
<p style="position:absolute;top:168px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h657w_h24w_h;letter-spacing:0.34930px;">For&nbsp;example,&nbsp;for&nbsp;an&nbsp;entity&nbsp;extraction&nbsp;scenario,&nbsp;you&nbsp;might&nbsp;use&nbsp;the&nbsp;following&nbsp;prompt:</span></p>
<p style="position:absolute;top:685px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h676w_h24w_h;letter-spacing:0.33576px;">The&nbsp;examples&nbsp;so&nbsp;far&nbsp;have&nbsp;shown&nbsp;you&nbsp;the&nbsp;basic&nbsp;mechanics&nbsp;of&nbsp;interacting&nbsp;with&nbsp;the&nbsp;Chat</span></p>
<p style="position:absolute;top:713px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h636w_h24w_h;letter-spacing:0.35343px;">Completion&nbsp;API.&nbsp;This&nbsp;example&nbsp;shows&nbsp;you&nbsp;how&nbsp;to&nbsp;create&nbsp;a&nbsp;conversation&nbsp;loop&nbsp;that</span></p>
<p style="position:absolute;top:743px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h246w_h24w_h;letter-spacing:0.41954px;">performs&nbsp;the&nbsp;following&nbsp;actions:</span></p>
<p style="position:absolute;top:789px;left:139px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h647w_h24w_h;letter-spacing:0.34890px;">Continuously&nbsp;takes&nbsp;console&nbsp;input,&nbsp;and&nbsp;properly&nbsp;formats&nbsp;it&nbsp;as&nbsp;part&nbsp;of&nbsp;the&nbsp;messages</span></p>
<p style="position:absolute;top:818px;left:139px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h205w_h24w_h;letter-spacing:0.34147px;">array&nbsp;as&nbsp;user&nbsp;role&nbsp;content.</span></p>
<p style="position:absolute;top:846px;left:139px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h657w_h24w_h;letter-spacing:0.34453px;">Outputs&nbsp;responses&nbsp;that&nbsp;are&nbsp;printed&nbsp;to&nbsp;the&nbsp;console&nbsp;and&nbsp;formatted&nbsp;and&nbsp;added&nbsp;to&nbsp;the</span></p>
<p style="position:absolute;top:875px;left:139px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h321w_h24w_h;letter-spacing:0.37652px;">messages&nbsp;array&nbsp;as&nbsp;assistant&nbsp;role&nbsp;content.</span></p>
<p style="position:absolute;top:923px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h622w_h24w_h;letter-spacing:0.31749px;">This&nbsp;means&nbsp;that&nbsp;every&nbsp;time&nbsp;a&nbsp;new&nbsp;question&nbsp;is&nbsp;asked,&nbsp;a&nbsp;running&nbsp;transcript&nbsp;of&nbsp;the</span></p>
<p style="position:absolute;top:951px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h641w_h24w_h;letter-spacing:0.32025px;">conversation&nbsp;so&nbsp;far&nbsp;is&nbsp;sent&nbsp;along&nbsp;with&nbsp;the&nbsp;latest&nbsp;question.&nbsp;Since&nbsp;the&nbsp;model&nbsp;has&nbsp;no</span></p>
<p style="position:absolute;top:980px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h689w_h24w_h;letter-spacing:0.34432px;">memory,&nbsp;you&nbsp;need&nbsp;to&nbsp;send&nbsp;an&nbsp;updated&nbsp;transcript&nbsp;with&nbsp;each&nbsp;new&nbsp;question&nbsp;or&nbsp;the&nbsp;model</span></p>
<p style="position:absolute;top:1008px;left:96px"><span style="virtical-align:top;font-size:16px;font-family:AAAAAC+SegoeUI;color:#161616;w_h440w_h24w_h;letter-spacing:0.35083px;">will&nbsp;lose&nbsp;context&nbsp;of&nbsp;the&nbsp;previous&nbsp;questions&nbsp;and&nbsp;answers.</span></p>
<p style="position:absolute;top:1061px;left:115px"><span style="virtical-align:top;font-size:12px;font-family:AAAAAC+SegoeUI;color:#161616;w_h45w_h19w_h;letter-spacing:1.19594px;">Python</span></p>
<p style="position:absolute;top:41px;left:96px"><span style="virtical-align:top;font-size:20px;font-family:AAAAAB+SegoeUI-Semibold;color:#161616;font-weight:bold;w_h480w_h30w_h;letter-spacing:0.44776px;">Using&nbsp;Chat&nbsp;Completion&nbsp;for&nbsp;non-chat&nbsp;scenarios</span></p>
<p style="position:absolute;top:267px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h615w_h18w_h;letter-spacing:0.38684px;">{&quot;role&quot;:&nbsp;&quot;system&quot;,&nbsp;&quot;content&quot;:&nbsp;&quot;You&nbsp;are&nbsp;an&nbsp;assistant&nbsp;designed&nbsp;to&nbsp;extract</span></p>
<p style="position:absolute;top:289px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h598w_h18w_h;letter-spacing:0.42436px;">entities&nbsp;from&nbsp;text.&nbsp;Users&nbsp;will&nbsp;paste&nbsp;in&nbsp;a&nbsp;string&nbsp;of&nbsp;text&nbsp;and&nbsp;you&nbsp;will</span></p>
<p style="position:absolute;top:310px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h606w_h18w_h;letter-spacing:0.46201px;">respond&nbsp;with&nbsp;entities&nbsp;you've&nbsp;extracted&nbsp;from&nbsp;the&nbsp;text&nbsp;as&nbsp;a&nbsp;JSON&nbsp;object.</span></p>
<p style="position:absolute;top:331px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h346w_h18w_h;letter-spacing:0.47754px;">Here's&nbsp;an&nbsp;example&nbsp;of&nbsp;your&nbsp;output&nbsp;format:</span></p>
<p style="position:absolute;top:353px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h9w_h18w_h;letter-spacing:0.00000px;">{</span></p>
<p style="position:absolute;top:374px;left:142px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h95w_h18w_h;letter-spacing:0.26265px;">&quot;name&quot;:&nbsp;&quot;&quot;,</span></p>
<p style="position:absolute;top:395px;left:142px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h121w_h18w_h;letter-spacing:0.30718px;">&quot;company&quot;:&nbsp;&quot;&quot;,</span></p>
<p style="position:absolute;top:417px;left:142px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h156w_h18w_h;letter-spacing:0.35641px;">&quot;phone_number&quot;:&nbsp;&quot;&quot;</span></p>
<p style="position:absolute;top:438px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h35w_h18w_h;letter-spacing:0.00000px;">}&quot;},</span></p>
<p style="position:absolute;top:460px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h623w_h18w_h;letter-spacing:0.37710px;">{&quot;role&quot;:&nbsp;&quot;user&quot;,&nbsp;&quot;content&quot;:&nbsp;&quot;Hello.&nbsp;My&nbsp;name&nbsp;is&nbsp;Robert&nbsp;Smith.&nbsp;I'm&nbsp;calling</span></p>
<p style="position:absolute;top:481px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h598w_h18w_h;letter-spacing:0.50014px;">from&nbsp;Contoso&nbsp;Insurance,&nbsp;Delaware.&nbsp;My&nbsp;colleague&nbsp;mentioned&nbsp;that&nbsp;you&nbsp;are</span></p>
<p style="position:absolute;top:502px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h632w_h18w_h;letter-spacing:0.51089px;">interested&nbsp;in&nbsp;learning&nbsp;about&nbsp;our&nbsp;comprehensive&nbsp;benefits&nbsp;policy.&nbsp;Could&nbsp;you</span></p>
<p style="position:absolute;top:524px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h623w_h18w_h;letter-spacing:0.38967px;">give&nbsp;me&nbsp;a&nbsp;call&nbsp;back&nbsp;at&nbsp;(555)&nbsp;346-9322&nbsp;when&nbsp;you&nbsp;get&nbsp;a&nbsp;chance&nbsp;so&nbsp;we&nbsp;can&nbsp;go</span></p>
<p style="position:absolute;top:545px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h173w_h18w_h;letter-spacing:0.49201px;">over&nbsp;the&nbsp;benefits?&quot;}</span></p>
<p style="position:absolute;top:621px;left:96px"><span style="virtical-align:top;font-size:30px;font-family:AAAAAB+SegoeUI-Semibold;color:#161616;font-weight:bold;w_h507w_h43w_h;letter-spacing:0.38469px;">Creating&nbsp;a&nbsp;basic&nbsp;conversation&nbsp;loop</span></p>
<p style="position:absolute;top:1109px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h78w_h18w_h;letter-spacing:0.60876px;">import&nbsp;os</span></p>
<p style="position:absolute;top:1130px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#0101fd;w_h113w_h18w_h;letter-spacing:0.65953px;">import&nbsp;openai</span></p>
<p style="position:absolute;top:1151px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h216w_h18w_h;letter-spacing:0.47198px;">openai.api_type&nbsp;=&nbsp;&quot;azure&quot;</span></p>
<p style="position:absolute;top:1173px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#161616;w_h286w_h18w_h;letter-spacing:0.52529px;">openai.api_version&nbsp;=&nbsp;&quot;2023-05-15&quot;</span></p>
<p style="position:absolute;top:1194px;left:116px"><span style="virtical-align:top;font-size:13px;font-family:AAAAAE+Consolas;color:#008000;w_h580w_h18w_h;letter-spacing:0.52297px;">openai.api_base&nbsp;=&nbsp;os.getenv(&quot;OPENAI_API_BASE&quot;)&nbsp;#&nbsp;Your&nbsp;Azure&nbsp;OpenAI</span></p>
</BODY>
</HTML>
